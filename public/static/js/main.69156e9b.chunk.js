(this["webpackJsonpreact-jwt-auth"]=this["webpackJsonpreact-jwt-auth"]||[]).push([[0],{223:function(e,t,a){e.exports=a(401)},229:function(e,t,a){},401:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(33),i=a.n(s),c=a(56),o=a(29),l=a(30),u=a(38),m=a(37),d=a(50),f=a(39),h=a(84),p=(a(228),a(229),a(43)),g=a.n(p),v="http://pogofdev.ooguy.com:8082/api/auth/",b=new(function(){function e(){Object(o.a)(this,e)}return Object(l.a)(e,[{key:"login",value:function(e,t){return g.a.post(v+"signin",{username:e,password:t}).then((function(e){return e.data.accessToken&&localStorage.setItem("user",JSON.stringify(e.data)),e.data}))}},{key:"logout",value:function(){localStorage.removeItem("user")}},{key:"register",value:function(e,t,a){return g.a.post(v+"signup",{username:e,email:t,password:a})}},{key:"getCurrentUser",value:function(){return JSON.parse(localStorage.getItem("user"))}}]),e}()),k=a(123),E=a.n(k),y=a(89),w=a.n(y),x=a(124),O=a.n(x),T=function(e){if(!e)return r.a.createElement("div",{className:"alert alert-danger",role:"alert"},"This field is required!")},N=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleLogin=a.handleLogin.bind(Object(d.a)(a)),a.onChangeUsername=a.onChangeUsername.bind(Object(d.a)(a)),a.onChangePassword=a.onChangePassword.bind(Object(d.a)(a)),a.state={username:"",password:"",loading:!1,message:""},a}return Object(f.a)(t,e),Object(l.a)(t,[{key:"onChangeUsername",value:function(e){this.setState({username:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"handleLogin",value:function(e){var t=this;e.preventDefault(),this.setState({message:"",loading:!0}),this.form.validateAll(),0===this.checkBtn.context._errors.length?b.login(this.state.username,this.state.password).then((function(){t.props.history.push("/profile"),window.location.reload()}),(function(e){var a=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();t.setState({loading:!1,message:a})})):this.setState({loading:!1})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"card card-container"},r.a.createElement("img",{src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png",alt:"profile-img",className:"profile-img-card"}),r.a.createElement(E.a,{onSubmit:this.handleLogin,ref:function(t){e.form=t}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"username"},"Username"),r.a.createElement(w.a,{type:"text",className:"form-control",name:"username",value:this.state.username,onChange:this.onChangeUsername,validations:[T]})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement(w.a,{type:"password",className:"form-control",name:"password",value:this.state.password,onChange:this.onChangePassword,validations:[T]})),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{className:"btn btn-primary btn-block",disabled:this.state.loading},this.state.loading&&r.a.createElement("span",{className:"spinner-border spinner-border-sm"}),r.a.createElement("span",null,"Login"))),this.state.message&&r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"alert alert-danger",role:"alert"},this.state.message)),r.a.createElement(O.a,{style:{display:"none"},ref:function(t){e.checkBtn=t}}))))}}]),t}(n.Component),j=a(204),S=function(e){if(!e)return r.a.createElement("div",{className:"alert alert-danger",role:"alert"},"This field is required!")},C=function(e){if(!Object(j.isEmail)(e))return r.a.createElement("div",{className:"alert alert-danger",role:"alert"},"This is not a valid email.")},I=function(e){if(e.length<3||e.length>20)return r.a.createElement("div",{className:"alert alert-danger",role:"alert"},"The username must be between 3 and 20 characters.")},A=function(e){if(e.length<6||e.length>40)return r.a.createElement("div",{className:"alert alert-danger",role:"alert"},"The password must be between 6 and 40 characters.")},R=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleRegister=a.handleRegister.bind(Object(d.a)(a)),a.onChangeUsername=a.onChangeUsername.bind(Object(d.a)(a)),a.onChangeEmail=a.onChangeEmail.bind(Object(d.a)(a)),a.onChangePassword=a.onChangePassword.bind(Object(d.a)(a)),a.state={username:"",email:"",password:"",successful:!1,message:""},a}return Object(f.a)(t,e),Object(l.a)(t,[{key:"onChangeUsername",value:function(e){this.setState({username:e.target.value})}},{key:"onChangeEmail",value:function(e){this.setState({email:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"handleRegister",value:function(e){var t=this;e.preventDefault(),this.setState({message:"",successful:!1}),this.form.validateAll(),0===this.checkBtn.context._errors.length&&b.register(this.state.username,this.state.email,this.state.password).then((function(e){t.setState({message:e.data.message,successful:!0})}),(function(e){var a=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();t.setState({successful:!1,message:a})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"card card-container"},r.a.createElement("img",{src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png",alt:"profile-img",className:"profile-img-card"}),r.a.createElement(E.a,{onSubmit:this.handleRegister,ref:function(t){e.form=t}},!this.state.successful&&r.a.createElement("div",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"username"},"Username"),r.a.createElement(w.a,{type:"text",className:"form-control",name:"username",value:this.state.username,onChange:this.onChangeUsername,validations:[S,I]})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement(w.a,{type:"text",className:"form-control",name:"email",value:this.state.email,onChange:this.onChangeEmail,validations:[S,C]})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement(w.a,{type:"password",className:"form-control",name:"password",value:this.state.password,onChange:this.onChangePassword,validations:[S,A]})),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{className:"btn btn-primary btn-block"},"Sign Up"))),this.state.message&&r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:this.state.successful?"alert alert-success":"alert alert-danger",role:"alert"},this.state.message)),r.a.createElement(O.a,{style:{display:"none"},ref:function(t){e.checkBtn=t}}))))}}]),t}(n.Component),M=a(22),B=a.n(M),P=a(26);function U(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.accessToken?{"x-access-token":e.accessToken}:{}}var D="http://pogofdev.ooguy.com:8082/api/test/",V=new(function(){function e(){Object(o.a)(this,e)}return Object(l.a)(e,[{key:"getPublicContent",value:function(){return g.a.get(D+"all")}},{key:"getUserBoard",value:function(){return g.a.get(D+"user",{headers:U()})}},{key:"getModeratorBoard",value:function(){return g.a.get(D+"mod",{headers:U()})}},{key:"getAdminBoard",value:function(){return g.a.get(D+"admin",{headers:U()})}},{key:"createNewTokens",value:function(){var e=Object(P.a)(B.a.mark((function e(t){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.post(D+"user/mint",{amount:t},{headers:U()});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"transferTokens",value:function(){var e=Object(P.a)(B.a.mark((function e(t,a){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.post(D+"user/transfer",{recipient:t,amount:a},{headers:U()});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"buyTicket",value:function(){var e=Object(P.a)(B.a.mark((function e(t,a){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.post(D+"user/buy",{ticketType:t,quantity:a},{headers:U()});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"useTicket",value:function(){var e=Object(P.a)(B.a.mark((function e(t){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.post(D+"user/use",{ticketNumbers:t},{headers:U()});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getUserTransactions",value:function(){var e=Object(P.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.post(D+"user/transactions",{},{headers:U()});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getOwnerTickets",value:function(){var e=Object(P.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.post(D+"user/getOwnerTickets",{},{headers:U()});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getRedeemTickets",value:function(){var e=Object(P.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.post(D+"user/getRedeemTickets",{},{headers:U()});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}()),L=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={content:""},a}return Object(f.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;V.getPublicContent().then((function(t){e.setState({content:t.data})}),(function(t){e.setState({content:t.response&&t.response.data||t.message||t.toString()})}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("header",{className:"jumbotron"},r.a.createElement("h3",null,this.state.content)))}}]),t}(n.Component),Y=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={redirect:null,userReady:!1,currentUser:{username:""}},a}return Object(f.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=b.getCurrentUser();e||this.setState({redirect:"/home"}),this.setState({currentUser:e,userReady:!0})}},{key:"render",value:function(){if(this.state.redirect)return r.a.createElement(h.a,{to:this.state.redirect});var e=this.state.currentUser;return r.a.createElement("div",{className:"container"},this.state.userReady?r.a.createElement("div",null,r.a.createElement("header",{className:"jumbotron"},r.a.createElement("h3",null,r.a.createElement("strong",null,e.username)," Profile")),r.a.createElement("p",null,r.a.createElement("strong",null,"Token:")," ",e.accessToken.substring(0,20)," ..."," ",e.accessToken.substr(e.accessToken.length-20)),r.a.createElement("p",null,r.a.createElement("strong",null,"Id:")," ",e.id),r.a.createElement("p",null,r.a.createElement("strong",null,"Email:")," ",e.email),r.a.createElement("strong",null,"Authorities:"),r.a.createElement("ul",null,e.roles&&e.roles.map((function(e,t){return r.a.createElement("li",{key:t},e)})))):null)}}]),t}(n.Component),F=a(165),G=a(110),H=a(411),K=a(220),Q=a(418),q=a(413),W=a(419),J=a(46),_=a(408),X=a(414),Z=a(409),z=a(412),$=a(415),ee=a(416),te=a(111),ae=(a(410),a(417),a(407),a(402),a(318)),ne=function(e){return ae.formatNumber(e,{symbol:"",thousand:",",format:"%v%s",precision:0})},re=function(e){return ae.formatMoney(e,{symbol:" \u20ab",thousand:".",format:"%v%s",precision:0})},se=function(e){return ae.formatMoney(e,{symbol:"",thousand:".",format:"%v%s",precision:0})},ie=function(e){try{"string"!==typeof e||e.length||(e="0");var t=new Intl.NumberFormat("vi-vn").format(1111).replace(/1/g,""),a=new Intl.NumberFormat("vi-vn").format(1.1).replace(/1/g,""),n=e.replace(new RegExp("\\"+t,"g"),""),r=((n=(n=n.replace(new RegExp("\\"+a,"g"),".")).replace(/[^0-9.]/g,"")).split(".")[1]||[]).length;return r>2&&(n*=Math.pow(10,r-2)),Number.isNaN(n)?0:n}catch(s){console.error(s)}};var ce=a(103),oe=G.a.Option,le=H.a.TabPane,ue={OI93EX:"Castrol GTX [SL 20W-50] 4L",ZMGPBJ:"Mobil Super 2000 [SP 10W-40] 4L",QW5ZGQ:"Mobil Super Motor Synthetic [SL 10W-40, MA2] 0.8L"},me=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).loadBalance=Object(P.a)(B.a.mark((function e(){var t;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.getUserBoard();case 2:t=e.sent,console.log("====>",t),a.setState(Object(F.a)({},t.data));case 5:case"end":return e.stop()}}),e)}))),a.loadTrans=Object(P.a)(B.a.mark((function e(){var t;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.getUserTransactions();case 2:t=e.sent,console.log("====>",t),a.setState({transactions:t.data});case 5:case"end":return e.stop()}}),e)}))),a.loadTickets=Object(P.a)(B.a.mark((function e(){var t;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.getOwnerTickets();case 2:t=e.sent,a.setState({tickets:t.data.map((function(e){return e.key=e.ticketNumber,e})),ownedItems:t.data.length});case 4:case"end":return e.stop()}}),e)}))),a.loadRedeemTickets=Object(P.a)(B.a.mark((function e(){var t;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.getRedeemTickets();case 2:t=e.sent,a.setState({redeemTickets:t.data.map((function(e){return e.key=e.ticketNumber,e}))});case 4:case"end":return e.stop()}}),e)}))),a.onChange=function(e){a.setState({newAmount:e})},a.onChangeQuantity=function(e){console.log(e),a.setState({ticketQuantity:e})},a.onRecipientChange=function(e){a.setState({recipient:e.target.value})},a.handleOk=Object(P.a)(B.a.mark((function e(){var t;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=console,e.next=4,a.myRef1.current.validateFields();case 4:return e.t1=e.sent,e.t0.log.call(e.t0,"===>",e.t1),e.next=8,V.createNewTokens(a.state.newAmount);case 8:(t=e.sent).data.success?(console.log("result.data.data",t.data.data),a.setState(Object(F.a)({},t.data.data,{modal1Visible:!1}),Object(P.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.loadTrans();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))))):a.setState({modal1Visible:!1}),console.log("result.data",t.data),e.next=15;break;case 13:e.prev=13,e.t2=e.catch(0);case 15:case"end":return e.stop()}}),e,null,[[0,13]])}))),a.handleOkTransfer=Object(P.a)(B.a.mark((function e(){var t;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=console,e.next=4,a.myRef.current.validateFields();case 4:return e.t1=e.sent,e.t0.log.call(e.t0,"===>",e.t1),e.next=8,V.transferTokens(a.state.recipient,a.state.newAmount);case 8:(t=e.sent).data.success?(console.log("result.data.data",t.data.data),a.setState({balance:t.data.data.fromUpdatedBalance,modal2Visible:!1},Object(P.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.loadTrans();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))))):a.setState({modal2Visible:!1},(function(){return K.a.error({message:"Error",description:t.data.error,onClick:function(){console.log("Notification Clicked!")}})})),console.log("result.data",t.data),e.next=15;break;case 13:e.prev=13,e.t2=e.catch(0);case 15:case"end":return e.stop()}}),e,null,[[0,13]])}))),a.handleOkBuyTicket=Object(P.a)(B.a.mark((function e(){var t;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.myRef.current.validateFields();case 3:return e.next=5,V.buyTicket(a.state.ticketType,a.state.ticketQuantity);case 5:t=e.sent,console.log("===>",t),t.data&&t.data.length>=0?a.setState({modal3Visible:!1},Object(P.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.loadTrans(),a.loadTickets(),a.loadBalance();case 3:case"end":return e.stop()}}),e)})))):a.setState({modal3Visible:!1},(function(){return K.a.error({message:"Error",description:t.data.error,onClick:function(){console.log("Notification Clicked!")}})})),console.log("result.data",t.data),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(0);case 13:case"end":return e.stop()}}),e,null,[[0,11]])}))),a.handleOkUseTicket=Object(P.a)(B.a.mark((function e(){var t;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,V.useTicket(a.state.selectedRowKeys);case 3:t=e.sent,console.log("===>",t),t.data&&t.data.success?a.setState({modal3Visible:!1},Object(P.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.loadTrans(),a.loadTickets(),a.loadBalance();case 3:case"end":return e.stop()}}),e)})))):a.setState({modal3Visible:!1},(function(){return K.a.error({message:"Error",description:t.data.error,onClick:function(){console.log("Notification Clicked!")}})})),console.log("result.data",t.data),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])}))),a.confirm=function(){Q.a.confirm({title:"Confirm",icon:r.a.createElement(te.a,null),content:"Are you sure?",okText:"OK",cancelText:"Cancel",onOk:a.handleOk})},a.confirmTransfer=function(){Q.a.confirm({title:"Confirm",icon:r.a.createElement(te.a,null),content:"Are you sure?",okText:"OK",cancelText:"Cancel",onOk:a.handleOkTransfer})},a.confirmBuyTickets=function(){Q.a.confirm({title:"Confirm",icon:r.a.createElement(te.a,null),content:"Are you sure?",okText:"OK",cancelText:"Cancel",onOk:a.handleOkBuyTicket})},a.confirmUseTickets=function(){Q.a.confirm({title:"Confirm",icon:r.a.createElement(te.a,null),content:"Are you sure?",okText:"OK",cancelText:"Cancel",onOk:a.handleOkUseTicket})},a.anyValidation=function(e,t,a){t<=0?a("Please enter value greater than 0"):a()},a.onChangeTicket=function(e){a.setState({ticketType:e})},a.onSelectChange=function(e){console.log("selectedRowKeys changed: ",e),a.setState({selectedRowKeys:e})},a.state={content:"",modal1Visible:!1,modal2Visible:!1,modal3Visible:!1,newAmount:0,recipient:"",totalSupply:0,ticketType:void 0,ticketQuantity:0,transactions:[],tickets:[],redeemTickets:[],selectedRowKeys:[],ownedItems:0,balance:0},a.myRef=r.a.createRef(),a.myRef1=r.a.createRef(),a.columns=[{title:"From",dataIndex:"from",render:function(e){return r.a.createElement("div",{style:{textAlign:"left"}},e)}},{title:"To",dataIndex:"to",render:function(e){return r.a.createElement("div",{style:{textAlign:"left"}},e)}},{title:"Amount",dataIndex:"amount",render:function(e){return r.a.createElement("div",{style:{textAlign:"right"}},ne(e))}},{title:"Trans Type",dataIndex:"transType",render:function(e){return r.a.createElement("div",{style:{textAlign:"right"}},e)}},{title:"Balance",dataIndex:"balance",render:function(e){return r.a.createElement("div",{style:{textAlign:"right"}},ne(e))}},{title:"Description",dataIndex:"description",render:function(e){return r.a.createElement("div",{style:{textAlign:"left"}},e)}},{title:"Transfer date",dataIndex:"timeStamp",render:function(e){return r.a.createElement("div",{style:{textAlign:"right"}},ce(parseInt(e)).format("DD/MM/YYYY HH:mm:ss"))}}],a.columns2=[{title:"Ticket Number",dataIndex:"ticketNumber",render:function(e){return r.a.createElement("div",{style:{textAlign:"left"}},e.substring(e.indexOf("-")+1,e.length))}},{title:"Ticket",dataIndex:"ticketType",render:function(e){return r.a.createElement("div",{style:{textAlign:"left"}},ue[e])}},{title:"Price",dataIndex:"price",render:function(e){return r.a.createElement("div",{style:{textAlign:"left"}},ne(e))}},{title:"Purchase time ",dataIndex:"buyDateTime",render:function(e){return r.a.createElement("div",{style:{textAlign:"right"}},ce(parseInt(e)).format("DD/MM/YYYY HH:mm:ss"))}}],a.columns4=[{title:"Ticket Number",dataIndex:"ticketNumber",render:function(e){return r.a.createElement("div",{style:{textAlign:"left"}},e.substring(e.indexOf("-")+1,e.length))}},{title:"Ticket",dataIndex:"ticketType",render:function(e){return r.a.createElement("div",{style:{textAlign:"left"}},ue[e])}},{title:"Buyer",dataIndex:"buyer",render:function(e){return r.a.createElement("div",{style:{textAlign:"left"}},e)}},{title:"Price",dataIndex:"price",render:function(e){return r.a.createElement("div",{style:{textAlign:"left"}},ne(e))}},{title:"Used time ",dataIndex:"useDateTime",render:function(e){return r.a.createElement("div",{style:{textAlign:"right"}},ce(parseInt(e)).format("DD/MM/YYYY HH:mm:ss"))}}],a.columns3=[{title:"Ticket Number",dataIndex:"ticketNumber",render:function(e){return r.a.createElement("div",{style:{textAlign:"left"}},e.substring(e.indexOf("-")+1,e.length))}},{title:"Ticket",dataIndex:"ticketType",render:function(e){return r.a.createElement("div",{style:{textAlign:"left"}},ue[e])}},{title:"Price",dataIndex:"price",render:function(e){return r.a.createElement("div",{style:{textAlign:"left"}},ne(e))}},{title:"Buyer",dataIndex:"buyer",render:function(e){return r.a.createElement("div",{style:{textAlign:"left"}},e)}},{title:"Owner",dataIndex:"owner",render:function(e){return r.a.createElement("div",{style:{textAlign:"left"}},e)}},{title:"Purchase time ",dataIndex:"buyDateTime",render:function(e){return r.a.createElement("div",{style:{textAlign:"right"}},ce(parseInt(e)).format("DD/MM/YYYY HH:mm:ss"))}},{title:"Status",dataIndex:"status",render:function(e){return r.a.createElement("div",{style:{textAlign:"left"}},e)}}],a.columns5=[{title:"Ticket Number",dataIndex:"ticketNumber",render:function(e){return r.a.createElement("div",{style:{textAlign:"left"}},e.substring(e.indexOf("-")+1,e.length))}},{title:"Ticket",dataIndex:"ticketType",render:function(e){return r.a.createElement("div",{style:{textAlign:"left"}},ue[e])}},{title:"Price",dataIndex:"price",render:function(e){return r.a.createElement("div",{style:{textAlign:"left"}},ne(e))}},{title:"Owner",dataIndex:"owner",render:function(e){return r.a.createElement("div",{style:{textAlign:"left"}},e)}},{title:"Redeem time ",dataIndex:"redeemDateTime",render:function(e){return r.a.createElement("div",{style:{textAlign:"right"}},ce(parseInt(e)).format("DD/MM/YYYY HH:mm:ss"))}},{title:"Status",dataIndex:"status",render:function(e){return r.a.createElement("div",{style:{textAlign:"left"}},e)}}],a}return Object(f.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(P.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.loadBalance(),this.loadTrans(),this.loadTickets(),this.loadRedeemTickets();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setModal1Visible",value:function(e){this.setState({modal1Visible:e})}},{key:"setModal2Visible",value:function(e){this.setState({modal2Visible:e})}},{key:"setModal3Visible",value:function(e){this.setState({modal3Visible:e})}},{key:"render",value:function(){var e=this,t=this.state,a=t.loading,n=t.selectedRowKeys,s={selectedRowKeys:n,onChange:this.onSelectChange},i=n.length>0;return r.a.createElement("div",{className:"container"},r.a.createElement(q.a,{onBack:function(){return window.history.back()},title:this.state.username,tags:r.a.createElement(W.a,{color:"blue"},"Running"),subTitle:"".concat(this.state.roles),extra:[this.state.roles&&this.state.roles.length>0&&"INTEGRATE"!==this.state.roles[0]&&r.a.createElement(J.a,{key:"3",onClick:function(){return e.setModal3Visible(!0)}},"Buy Item"),r.a.createElement(J.a,{key:"2",onClick:function(){return e.setModal2Visible(!0)}},"Transfer"),this.state.roles&&this.state.roles.length>0&&"INTEGRATE"===this.state.roles[0]&&r.a.createElement(J.a,{key:"1",type:"primary",onClick:function(){return e.setModal1Visible(!0)}},"Create new \u20ab")]},r.a.createElement(_.a,null,this.state.roles&&this.state.roles.length>0&&"INTEGRATE"===this.state.roles[0]&&r.a.createElement(X.a,{title:"Total Supply",suffix:"\u20ab",value:this.state.totalSupply}),r.a.createElement(X.a,{title:this.state.roles&&this.state.roles.length>0&&"INTEGRATE"===this.state.roles[0]?"Not Yet Redeemed Tickets":"Owned Tickets",prefix:"",value:this.state.ownedItems,style:{margin:"0 32px"}}),r.a.createElement(X.a,{title:"Balance",suffix:"\u20ab",ix:"d",value:this.state.balance})),r.a.createElement(_.a,null,r.a.createElement(H.a,{type:"card",style:{width:"100%",marginTop:20}},r.a.createElement(le,{tab:"Transactions",key:"1"},r.a.createElement(Z.a,{style:{width:"100%",marginTop:10},columns:this.columns,dataSource:this.state.transactions})),this.state.roles&&this.state.roles.length>0&&"INTEGRATE"===this.state.roles[0]?r.a.createElement(r.a.Fragment,null,r.a.createElement(le,{tab:"Not yet redeemed tickets",key:"2"},r.a.createElement("div",{style:{marginBottom:16,width:"100%"}},r.a.createElement(Z.a,{style:{width:"100%",marginTop:10},columns:this.columns3,dataSource:this.state.tickets}))),r.a.createElement(le,{tab:"Redeemed tickets",key:"3"},r.a.createElement("div",{style:{marginBottom:16,width:"100%"}},r.a.createElement(Z.a,{style:{width:"100%",marginTop:10},columns:this.columns5,dataSource:this.state.redeemTickets})))):r.a.createElement(le,{tab:"Tickets",key:"2"},r.a.createElement("div",{style:{marginBottom:16,width:"100%"}},r.a.createElement(J.a,{type:"primary",onClick:this.confirmUseTickets,disabled:!i,loading:a},this.state.roles&&this.state.roles.length>0&&"OILDEPOT"===this.state.roles[0]?"Redeem tickets at Integrate for Tokens":"Use tickets at OD shop"),r.a.createElement("span",{style:{marginLeft:8}},i?"Selected ".concat(n.length," tickets"):""),this.state.roles&&this.state.roles.length>0&&"OILDEPOT"===this.state.roles[0]?r.a.createElement(Z.a,{rowSelection:s,style:{width:"100%",marginTop:10},columns:this.columns4,dataSource:this.state.tickets}):r.a.createElement(Z.a,{rowSelection:s,style:{width:"100%",marginTop:10},columns:this.columns2,dataSource:this.state.tickets})))))),r.a.createElement(Q.a,{title:"Create new \u20ab",style:{top:"20%"},visible:this.state.modal1Visible,onOk:this.confirm,onCancel:function(){return e.setModal1Visible(!1)}},r.a.createElement(z.a,{wrapperCol:{span:14,offset:0},layout:"vertical",ref:this.myRef1},r.a.createElement(z.a.Item,{label:"Number of \u20ab to create",name:"layout",rules:[{required:!0,message:"Please enter amount"},{validator:function(){var e=Object(P.a)(B.a.mark((function e(t,a){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a&&!(parseInt(a)<=0)){e.next=2;break}return e.abrupt("return",Promise.reject(new Error("Please enter value greater than 0")));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}]},r.a.createElement($.a,{value:this.state.newAmount,style:{width:"100%"},step:1e4,formatter:re,parser:ie,onChange:this.onChange})))),r.a.createElement(Q.a,{title:"Transfer \u20ab to user",style:{top:"20%"},visible:this.state.modal2Visible,onOk:this.confirmTransfer,onCancel:function(){return e.setModal2Visible(!1)}},r.a.createElement(z.a,{wrapperCol:{span:14,offset:0},layout:"vertical",ref:this.myRef},r.a.createElement(z.a.Item,{label:"Recipient",name:"Recipient",rules:[{required:!0,message:"Please input your Recipient!"}]},r.a.createElement(ee.a,{placeholder:"Please enter username to send",onChange:this.onRecipientChange})),r.a.createElement(z.a.Item,{label:"Number of \u20ab to transfer",name:"amount",rules:[{required:!0,message:"Please enter amount"},{validator:function(){var e=Object(P.a)(B.a.mark((function e(t,a){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a&&!(parseInt(a)<=0)){e.next=2;break}return e.abrupt("return",Promise.reject(new Error("Please enter value greater than 0")));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}]},r.a.createElement($.a,{value:this.state.newAmount,style:{width:"100%"},step:1e4,formatter:re,parser:ie,onChange:this.onChange})))),r.a.createElement(Q.a,{title:"Buy tickets",style:{top:"20%"},visible:this.state.modal3Visible,onOk:this.confirmBuyTickets,onCancel:function(){return e.setModal3Visible(!1)}},r.a.createElement(z.a,{layout:"vertical",ref:this.myRef},r.a.createElement(z.a.Item,{label:"Ticket",name:"Ticket",rules:[{required:!0,message:"Please a ticket to buy!"}]},r.a.createElement(G.a,{showSearch:!0,style:{width:"100%"},placeholder:"Select a ticket to buy",optionFilterProp:"children",onChange:this.onChangeTicket,filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0}},r.a.createElement(oe,{value:"OI93EX"},"Castrol GTX [SL 20W-50] 4L - 465.000 \u20ab"),r.a.createElement(oe,{value:"ZMGPBJ"},"Mobil Super 2000 [SP 10W-40] 4L - 900.000 \u20ab"),r.a.createElement(oe,{value:"QW5ZGQ"},"Mobil Super Motor Synthetic [SL 10W-40, MA2] 0.8L - 140.000 \u20ab"))),r.a.createElement(z.a.Item,{label:"Quantity",name:"quantity",rules:[{required:!0,message:"Please enter quantity"},{validator:function(){var e=Object(P.a)(B.a.mark((function e(t,a){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a&&!(parseInt(a)<=0)){e.next=2;break}return e.abrupt("return",Promise.reject(new Error("Please enter value greater than 0")));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}]},r.a.createElement($.a,{defaultValue:this.state.ticketQuantity,style:{width:"50%"},step:1,formatter:se,parser:ie,onChange:this.onChangeQuantity})))))}}]),t}(n.Component),de=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={content:""},a}return Object(f.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;V.getModeratorBoard().then((function(t){e.setState({content:t.data})}),(function(t){e.setState({content:t.response&&t.response.data&&t.response.data.message||t.message||t.toString()})}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("header",{className:"jumbotron"},r.a.createElement("h3",null,this.state.content)))}}]),t}(n.Component),fe=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={content:""},a}return Object(f.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;V.getAdminBoard().then((function(t){e.setState({content:t.data})}),(function(t){e.setState({content:t.response&&t.response.data&&t.response.data.message||t.message||t.toString()})}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("header",{className:"jumbotron"},r.a.createElement("h3",null,this.state.content)))}}]),t}(n.Component),he=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).logOut=a.logOut.bind(Object(d.a)(a)),a.state={showModeratorBoard:!1,showAdminBoard:!1,currentUser:void 0},a}return Object(f.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=b.getCurrentUser();e&&this.setState({currentUser:e,showModeratorBoard:e.roles.includes("ROLE_MODERATOR"),showAdminBoard:e.roles.includes("ROLE_ADMIN")})}},{key:"logOut",value:function(){b.logout()}},{key:"render",value:function(){var e=this.state,t=e.currentUser,a=e.showModeratorBoard,n=e.showAdminBoard;return r.a.createElement("div",null,r.a.createElement("nav",{className:"navbar navbar-expand navbar-dark bg-dark"},r.a.createElement(c.b,{to:"/",className:"navbar-brand"},"bezKoder"),r.a.createElement("div",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(c.b,{to:"/home",className:"nav-link"},"Home")),a&&r.a.createElement("li",{className:"nav-item"},r.a.createElement(c.b,{to:"/mod",className:"nav-link"},"Moderator Board")),n&&r.a.createElement("li",{className:"nav-item"},r.a.createElement(c.b,{to:"/admin",className:"nav-link"},"Admin Board")),t&&r.a.createElement("li",{className:"nav-item"},r.a.createElement(c.b,{to:"/user",className:"nav-link"},"User"))),t?r.a.createElement("div",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(c.b,{to:"/profile",className:"nav-link"},t.username)),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{href:"/login",className:"nav-link",onClick:this.logOut},"LogOut"))):r.a.createElement("div",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(c.b,{to:"/login",className:"nav-link"},"Login")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(c.b,{to:"/register",className:"nav-link"},"Sign Up")))),r.a.createElement("div",{className:"container mt-3"},r.a.createElement(h.d,null,r.a.createElement(h.b,{exact:!0,path:["/","/home"],component:L}),r.a.createElement(h.b,{exact:!0,path:"/login",component:N}),r.a.createElement(h.b,{exact:!0,path:"/register",component:R}),r.a.createElement(h.b,{exact:!0,path:"/profile",component:Y}),r.a.createElement(h.b,{path:"/user",component:me}),r.a.createElement(h.b,{path:"/mod",component:de}),r.a.createElement(h.b,{path:"/admin",component:fe}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(400);i.a.render(r.a.createElement(c.a,null,r.a.createElement(he,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[223,1,2]]]);
//# sourceMappingURL=main.69156e9b.chunk.js.map